"use strict";(self["webpackChunkpollingapp"]=self["webpackChunkpollingapp"]||[]).push([[950],{2950:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"participants-container"},[a("b-card",t._l(t.activeParticipants,(function(e){return a("b-card",{staticClass:"mt-5",attrs:{"border-variant":"primary",header:e["_id"]["$oid"],"header-bg-variant":"primary","header-text-variant":"white",align:"center"}},[a("b-card-text",[t._v("Nombre: "+t._s(e["name"])+" "+t._s(e["lastName"])),a("br"),t._v(" Respuestas incorrectas: "+t._s(e["questions_failed"])+" "),a("br"),a("b-button",{staticClass:"mt-2",attrs:{variant:"danger"},on:{click:function(a){return t.downvote(e["_id"]["$oid"])}}},[t._v("❌")])],1)],1)})),1)],1)},r=[],s=(e(7658),e(6374),e(5220)),n=e(772),o=e(1393),c=e(5688),d=e(660),l=e(1920),p=e(5132),u=e(4427),m=e(5941),h={name:"Participants",components:{BCard:n._,BCardText:o.j,BTable:c.h,BButton:d.T,BCardGroup:l.o,BBadge:p.k,BToast:u.K},data(){return{ids:[],participants:[],fields:["name","questions_failed","downgrade"]}},computed:{activeParticipants(){this.participants.filter((t=>t.questions_failed<3))}},mounted(){let t=(0,s.Z)();if(t.isAuthenticated){let a=t.getUser;this.$socket.emit("join",{room:a.id})}else this.$router.push("/login")},methods:{downvote(t){let a=(0,s.Z)(),e=a.getUser;const i=this.participants.filter((a=>a["_id"]["$oid"]==t))[0],r=new Date;let n={juror:e.id,participant_id:t,participant_name:i.name,participant_lastName:i.lastName,time:r.toString()};this.$socket.emit("downvote",n),this.$bvToast.toast(`Acabas de calificar la respuesta de ${i.name} ${i.lastName} como incorrecta!`,{title:"Notificación",variant:"danger",solid:!0})}},sockets:{participants(t){m.log(t),this.participants=t}},beforeDestroy(){let t=(0,s.Z)(),a=t.getUser;this.$socket.emit("leave",{room:a.id})}},f=h,_=e(1001),v=(0,_.Z)(f,i,r,!1,null,null,null),b=v.exports}}]);
//# sourceMappingURL=950.6d1d169b.js.map