{"version":3,"file":"js/656.870c635f.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,2BAA2BH,EAAG,UAAU,CAACI,MAAM,CAAC,KAAO,GAAG,QAAU,YAAY,CAACN,EAAIK,GAAG,SAASL,EAAIO,GAAGP,EAAIQ,UAAUN,EAAG,SAASF,EAAIS,GAAIR,KAAKS,oBAAoB,SAASC,GAAM,OAAOT,EAAG,SAAS,CAACE,YAAY,OAAOE,MAAM,CAAC,iBAAiB,UAAU,OAASK,EAAK,OAAO,QAAQ,oBAAoB,UAAU,sBAAsB,QAAQ,MAAQ,WAAW,CAACT,EAAG,cAAc,CAACF,EAAIK,GAAG,WAAWL,EAAIO,GAAGI,EAAK,SAAS,IAAIX,EAAIO,GAAGI,EAAK,cAAcT,EAAG,MAAMF,EAAIK,GAAG,4BAA4BL,EAAIO,GAAGI,EAAK,qBAAqB,KAAKT,EAAG,MAAMA,EAAG,WAAW,CAACE,YAAY,OAAOE,MAAM,CAAC,QAAU,UAAUM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,SAASH,EAAK,OAAO,QAAQ,IAAI,CAACX,EAAIK,GAAG,QAAQ,IAAI,EAAE,IAAG,GAAGH,EAAG,KAAK,CAACF,EAAIK,GAAG,kCAAkCH,EAAG,SAASF,EAAIS,GAAIR,KAAKc,0BAA0B,SAASJ,GAAM,OAAOT,EAAG,SAAS,CAACE,YAAY,OAAOE,MAAM,CAAC,iBAAiB,UAAU,OAASK,EAAK,OAAO,QAAQ,oBAAoB,UAAU,sBAAsB,QAAQ,MAAQ,WAAW,CAACT,EAAG,cAAc,CAACF,EAAIK,GAAG,WAAWL,EAAIO,GAAGI,EAAK,SAAS,IAAIX,EAAIO,GAAGI,EAAK,cAAcT,EAAG,MAAMF,EAAIK,GAAG,4BAA4BL,EAAIO,GAAGI,EAAK,qBAAqB,KAAKT,EAAG,SAAS,EAAE,IAAG,IAAI,EACxyC,EACIc,EAAkB,G,oHCiDtB,GACAC,KAAAA,eACAC,WAAAA,CACAC,MAAAA,EAAAA,EACAC,UAAAA,EAAAA,EACAC,OAAAA,EAAAA,EACAC,QAAAA,EAAAA,EACAC,WAAAA,EAAAA,EACAC,OAAAA,EAAAA,EACAC,OAAAA,EAAAA,GAEAC,OACA,OACAC,IAAAA,GACAC,aAAAA,GACAC,OAAAA,CAAAA,OAAAA,mBAAAA,aAGA,EACAC,SAAAA,CAEApB,qBACA,0DAEA,EACAK,2BACA,2DACA,MACA,wBAGAgB,UACA,gBAEA,sBACA,gBACA,qCACA,MAEA,2BAEA,EACAC,QAAAA,CACAlB,SAAAA,GACA,gBACA,YAEA,8DAEA,WAEA,OACA,WACA,iBACA,wBACA,gCACA,mBAGA,gCAIA,oGACAmB,MAAAA,eACAC,QAAAA,SACAC,OAAAA,GAIA,GAEAC,QAAAA,CACAR,aAAAA,GACAS,EAAAA,IAAAA,GACA,mBACA,GAGAC,gBACA,gBACA,YAEA,sCACA,GCvIgQ,I,UCQ5PC,GAAY,OACd,EACAxC,EACAiB,GACA,EACA,KACA,KACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://pollingapp/./src/views/ParticipantsView.vue","webpack://pollingapp/src/views/ParticipantsView.vue","webpack://pollingapp/./src/views/ParticipantsView.vue?b35d","webpack://pollingapp/./src/views/ParticipantsView.vue?6f1b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"participants-container\"},[_c('h1',[_vm._v(\"Participantes activos\")]),_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"success\"}},[_vm._v(\"Ronda \"+_vm._s(_vm.round))]),_c('b-card',_vm._l((this.activeParticipants),function(elem){return _c('b-card',{staticClass:\"mt-5\",attrs:{\"border-variant\":\"primary\",\"header\":elem[\"_id\"][\"$oid\"],\"header-bg-variant\":\"primary\",\"header-text-variant\":\"white\",\"align\":\"center\"}},[_c('b-card-text',[_vm._v(\"Nombre: \"+_vm._s(elem[\"name\"])+\" \"+_vm._s(elem[\"lastName\"])),_c('br'),_vm._v(\" Respuestas incorrectas: \"+_vm._s(elem[\"questions_failed\"])+\" \"),_c('br'),_c('b-button',{staticClass:\"mt-2\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.downvote(elem['_id']['$oid'])}}},[_vm._v(\"❌\")])],1)],1)}),1),_c('h2',[_vm._v(\"Participantes descalificados\")]),_c('b-card',_vm._l((this.desqualifiedParticipants),function(elem){return _c('b-card',{staticClass:\"mt-5\",attrs:{\"border-variant\":\"primary\",\"header\":elem[\"_id\"][\"$oid\"],\"header-bg-variant\":\"primary\",\"header-text-variant\":\"white\",\"align\":\"center\"}},[_c('b-card-text',[_vm._v(\"Nombre: \"+_vm._s(elem[\"name\"])+\" \"+_vm._s(elem[\"lastName\"])),_c('br'),_vm._v(\" Respuestas incorrectas: \"+_vm._s(elem[\"questions_failed\"])+\" \"),_c('br')])],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"participants-container\">\r\n        <h1>Participantes activos</h1>\r\n        <b-badge pill variant = \"success\">Ronda {{round}}</b-badge>\r\n        <b-card>\r\n            <b-card v-for=\"elem in this.activeParticipants\"\r\n            border-variant = \"primary\"\r\n            :header = 'elem[\"_id\"][\"$oid\"]'\r\n            header-bg-variant = \"primary\"\r\n            header-text-variant = \"white\"\r\n            align = \"center\"\r\n            class = \"mt-5\" \r\n            \r\n            >\r\n            <b-card-text>Nombre: {{ elem[\"name\"] }} {{ elem[\"lastName\"] }}</br>\r\n            Respuestas incorrectas: {{ elem[\"questions_failed\"] }} </br>\r\n            <b-button class = \"mt-2\" variant = \"danger\" @click=\"downvote(elem['_id']['$oid'])\">❌</b-button>\r\n            \r\n            </b-card-text>\r\n                \r\n            </b-card>\r\n        </b-card>\r\n\r\n        <h2>Participantes descalificados</h2>\r\n\r\n          <b-card>\r\n            <b-card v-for=\"elem in this.desqualifiedParticipants\"\r\n            border-variant = \"primary\"\r\n            :header = 'elem[\"_id\"][\"$oid\"]'\r\n            header-bg-variant = \"primary\"\r\n            header-text-variant = \"white\"\r\n            align = \"center\"\r\n            class = \"mt-5\" \r\n            \r\n            >\r\n            <b-card-text>Nombre: {{ elem[\"name\"] }} {{ elem[\"lastName\"] }}</br>\r\n            Respuestas incorrectas: {{ elem[\"questions_failed\"] }} </br>\r\n            \r\n            </b-card-text>\r\n                \r\n            </b-card>\r\n        </b-card>\r\n    \r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport LoginService  from '@/services/LoginService';\r\nimport {userData} from '../stores/user'\r\nimport {BCard,BCardText,BTable,BButton,BCardGroup,BBadge,BToast} from 'bootstrap-vue'\r\nimport {mapState} from 'pinia'\r\nexport default{\r\n    name: \"Participants\",\r\n    components:{\r\n        BCard,\r\n        BCardText,\r\n        BTable,\r\n        BButton,\r\n        BCardGroup,\r\n        BBadge,\r\n        BToast,\r\n    },\r\n    data(){\r\n        return {\r\n            ids: [],\r\n            participants: [],\r\n            fields: [\"name\",\"questions_failed\",\"downgrade\"]\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        // getting active participants\r\n        activeParticipants(){\r\n            return this.participants.filter( obj => obj.questions_failed < 3)\r\n            \r\n        },\r\n        desqualifiedParticipants(){\r\n            return this.participants.filter(obj => obj.questions_failed >= 3)\r\n        },\r\n        ...mapState(userData,['round'])\r\n\r\n    },\r\n    mounted(){\r\n        let store = userData()\r\n\r\n        if(store.isAuthenticated){\r\n            let user = store.getUser\r\n            this.$socket.emit('join',{'room':user.id})\r\n        }\r\n        else{\r\n            this.$router.push(\"/login\")\r\n        }\r\n        },\r\n        methods:{\r\n            downvote(id){\r\n                let store = userData()\r\n                let user = store.getUser\r\n\r\n                const participant = this.participants.filter( user => user['_id']['$oid'] == id)[0]\r\n                \r\n                const date = new Date()\r\n                \r\n                let obj = {\r\n                    'juror':user.id,\r\n                    'participant_id':id,\r\n                    'participant_name': participant.name,\r\n                    'participant_lastName': participant.lastName,\r\n                    'time':date.toString()\r\n                }\r\n\r\n                this.$socket.emit(\"downvote\",obj)\r\n                \r\n               \r\n                \r\n                this.$bvToast.toast(`Acabas de calificar la respuesta de ${participant.name} ${participant.lastName} como incorrecta!`,{\r\n                    title: 'Notificación',\r\n                    variant: 'danger',\r\n                    solid: true,\r\n                })\r\n                \r\n                \r\n            }\r\n        },\r\n        sockets:{\r\n            participants(data){\r\n                console.log(data)\r\n                this.participants = data\r\n            }\r\n\r\n        },\r\n        beforeDestroy(){\r\n            let store = userData()\r\n            let user = store.getUser\r\n\r\n            this.$socket.emit(\"leave\",{'room':user.id})\r\n        }\r\n\r\n\r\n    }\r\n\r\n</script>\r\n<style>\r\n.participants-container{\r\n    display:flex;\r\n    width: 100vw;\r\n    flex-direction: column;\r\n    gap: 50px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 50px;\r\n}\r\n.individual-participant{\r\n    display: flex;\r\n    gap: 50px;\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ParticipantsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ParticipantsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParticipantsView.vue?vue&type=template&id=191288ea&\"\nimport script from \"./ParticipantsView.vue?vue&type=script&lang=js&\"\nexport * from \"./ParticipantsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParticipantsView.vue?vue&type=style&index=0&id=191288ea&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","_s","round","_l","activeParticipants","elem","on","$event","downvote","desqualifiedParticipants","staticRenderFns","name","components","BCard","BCardText","BTable","BButton","BCardGroup","BBadge","BToast","data","ids","participants","fields","computed","mounted","methods","title","variant","solid","sockets","console","beforeDestroy","component"],"sourceRoot":""}