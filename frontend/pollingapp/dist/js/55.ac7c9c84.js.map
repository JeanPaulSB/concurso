{"version":3,"file":"js/55.ac7c9c84.js","mappings":"+PAA8J,W,IAAG,OAAE,EAAK,EAAI,S,OAAmH,EAAC,c,MAAC,CAAiB,YAAkB,kBAAwD,QAACA,MAAM,CAACC,KAAOC,K,GAAqCA,GAAIC,uBAAU,wD,MAAC,CAACC,cAAW,GAAQ,kBAAI,cAAW,cAAgBC,MAAM,qB,MAAuB,CAA+B,QAASH,OAAW,qBAACI,EAAAA,OAAgBC,CAAKC,EAAqBC,WAAG,aAAe,IAAC,U,MAAC,C,QAA0B,U,MAAC,EAAO,mB,OAAS,U,YAAK,EAAQ,K,kCAAuCC,K,IAA4C,MAAM,CAACC,EAAG,IAAM,CAAC,OAAG,eAA0B,GAAC,CAAC,MAAQ,YAAQ,WAAO,sCAAM,IAAyC,CAACC,EAAAA,GAAK,OAAI,OAAoB,OAAE,MAAMD,CAAsGN,MAAM,S,MAAe,CAAe,cAAIQ,SAAG,SAAS,GAACR,EAAM,OAAC,EAAS,qBAAyFA,CAAAA,EAAK,GAAC,gF,MAAC,CAA0B,SAAW,GAAyB,gBAChvC,QACGS,MAAAA,CAEJ,KAASC,K,2MCiDT,GACAC,KAAAA,eACAC,WAAAA,CACAC,YAAAA,EAAAA,GAEAC,OACA,OACAC,IAAAA,GACAC,aAAAA,GACAT,OAAAA,EACAT,OAAAA,GACAa,KAAAA,GACAM,OAAAA,CAAAA,OAAAA,mBAAAA,aACAC,QAAAA,CACA,CAAAC,KAAAA,SACAvB,MAAAA,QACA,CAAAuB,KAAAA,YACAvB,MAAAA,aAAA,CACAuB,KAAAA,oBACAvB,MAAAA,kBAEA,CAAAuB,KAAAA,YAAAvB,MAAAA,cAGAwB,YAAAA,CACA,CAAAD,KAAAA,SACAvB,MAAAA,QACA,CAAAuB,KAAAA,YACAvB,MAAAA,aAAA,CACAuB,KAAAA,oBACAvB,MAAAA,mBAMA,EACAyB,SAAAA,CAEAC,qBAEA,wDAEA,EACAC,2BACA,yDACA,MACA,wBAGAC,UACA,gBAEA,sBACA,gBACA,qCACA,MAEA,2BAEA,EACAC,QAAAA,CACApB,SAAAA,EAAAA,GACA,gBACA,YAEA,YAEA,8DAEA,WAEA,OACA,WACA,iBACA,wBACA,gCACA,mBAGA,+BAMA,GAEAqB,QAAAA,CACAV,aAAAA,GACAW,EAAAA,IAAAA,GACA,mBACA,GAGAC,gBACA,gBACA,YAEA,sCACA,GCzJgQ,I,UCO5PC,GAAY,OACd,EACAnB,EACAD,GACA,EACA,KACA,KACA,MAIF,EAAeoB,EAAiB,O","sources":["webpack://pollingapp/./src/views/ParticipantsView.vue","webpack://pollingapp/src/views/ParticipantsView.vue","webpack://pollingapp/./src/views/ParticipantsView.vue?b7e5","webpack://pollingapp/./src/views/ParticipantsView.vue?6f1b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"success\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-check\")]),_vm._v(\"Participantes activos\")],1),_c('v-card',[_c('v-card-title',[_c('v-text-field',{attrs:{\"single-line\":\"\",\"hide-details\":\"\",\"append-icon\":\"mdi-magnify\",\"label\":\"Ingresa un nombre\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.activeParticipants,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.calificar\",fn:function({item}){return [_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){_vm.alert = true; _vm.downvote(item['_id']['$oid'],item['name'])}}},[_vm._v(\"X\")])]}}])}),_c('v-snackbar',{attrs:{\"color\":\"error\"},model:{value:(_vm.alert),callback:function ($$v) {_vm.alert=$$v},expression:\"alert\"}},[_vm._v(\"Calificaste la respuesta de \"+_vm._s(_vm.name)+\" como incorrecta\")]),_c('v-divider'),_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"error\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-cancel\")]),_vm._v(\"Participantes descalificados\")],1),_c('v-data-table',{attrs:{\"headers\":_vm.headersDesq,\"items\":_vm.desqualifiedParticipants}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n            \r\n                \r\n                <v-chip outlined color = \"success\"><v-icon left>mdi-account-check</v-icon>Participantes activos</v-chip>\r\n                <v-card><v-card-title>\r\n                    <v-text-field\r\n                    v-model = \"search\"\r\n                    single-line\r\n                    hide-details\r\n                    append-icon = \"mdi-magnify\"\r\n                    label = \"Ingresa un nombre\">\r\n\r\n                    </v-text-field>\r\n                </v-card-title></v-card>\r\n                <v-data-table\r\n                :headers = \"headers\"\r\n                :items = \"activeParticipants\"\r\n                :search = \"search\"\r\n                >\r\n\r\n                <template v-slot:item.calificar = \"{item}\">\r\n                    <v-btn color = \"error\" @click = \"alert = true; downvote(item['_id']['$oid'],item['name'])\">X</v-btn>\r\n                </template>\r\n\r\n\r\n                </v-data-table>\r\n                <v-snackbar color = \"error\" v-model = \"alert\">Calificaste la respuesta de {{name}} como incorrecta</v-snackbar>\r\n                \r\n\r\n        <v-divider></v-divider>\r\n        <v-chip outlined color = \"error\"><v-icon left>mdi-cancel</v-icon>Participantes descalificados</v-chip>\r\n        <v-data-table\r\n                :headers = \"headersDesq\"\r\n                :items = \"desqualifiedParticipants\"\r\n                >\r\n\r\n               \r\n\r\n                </v-data-table>\r\n                \r\n\r\n\r\n\r\n    \r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport LoginService  from '@/services/LoginService';\r\nimport {userData} from '../stores/user'\r\nimport {mapState} from 'pinia'\r\nimport Participant from '@/components/Participant.vue';\r\nexport default{\r\n    name: \"Participants\",\r\n    components:{\r\n        Participant\r\n    },\r\n    data(){\r\n        return {\r\n            ids: [],\r\n            participants: [],\r\n            alert: false,\r\n            search: \"\",\r\n            name: '',\r\n            fields: [\"name\",\"questions_failed\",\"downgrade\"],\r\n            headers: [\r\n                {text: 'Nombre',\r\n                value: 'name'},\r\n                {text: 'Seccional',\r\n                value: 'seccional'},{\r\n                    text: 'Resp. incorrectas',\r\n                    value: 'wrongQuestions'\r\n                },\r\n                {text: 'calificar',value:'calificar'}\r\n            ]\r\n            ,\r\n            headersDesq: [\r\n                {text: 'Nombre',\r\n                value: 'name'},\r\n                {text: 'Seccional',\r\n                value: 'seccional'},{\r\n                    text: 'Resp. incorrectas',\r\n                    value: 'wrongQuestions'\r\n                },\r\n\r\n            ]\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        // getting active participants\r\n        activeParticipants(){\r\n\r\n            return this.participants.filter( obj => obj.wrongQuestions < 3)\r\n            \r\n        },\r\n        desqualifiedParticipants(){\r\n            return this.participants.filter(obj => obj.wrongQuestions >= 3)\r\n        },\r\n        ...mapState(userData,['round'])\r\n\r\n    },\r\n    mounted(){\r\n        let store = userData()\r\n\r\n        if(store.isAuthenticated){\r\n            let user = store.getUser\r\n            this.$socket.emit('join',{'room':user.id})\r\n        }\r\n        else{\r\n            this.$router.push(\"/login\")\r\n        }\r\n        },\r\n        methods:{\r\n            downvote(id,name){\r\n                let store = userData()\r\n                let user = store.getUser\r\n\r\n                this.name = name\r\n\r\n                const participant = this.participants.filter( user => user['_id']['$oid'] == id)[0]\r\n                \r\n                const date = new Date()\r\n                \r\n                let obj = {\r\n                    'juror':user.id,\r\n                    'participant_id':id,\r\n                    'participant_name': participant.name,\r\n                    'participant_lastName': participant.lastName,\r\n                    'time':date.toString()\r\n                }\r\n\r\n                this.$socket.emit(\"downvote\",obj)\r\n                \r\n               \r\n                \r\n                \r\n                \r\n            }\r\n        },\r\n        sockets:{\r\n            participants(data){\r\n                console.log(data)\r\n                this.participants = data\r\n            }\r\n\r\n        },\r\n        beforeDestroy(){\r\n            let store = userData()\r\n            let user = store.getUser\r\n\r\n            this.$socket.emit(\"leave\",{'room':user.id})\r\n        }\r\n\r\n\r\n    }\r\n\r\n</script>\r\n<style>\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ParticipantsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ParticipantsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParticipantsView.vue?vue&type=template&id=3ae92e42&\"\nimport script from \"./ParticipantsView.vue?vue&type=script&lang=js&\"\nexport * from \"./ParticipantsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["model","value","_vm","search","expression","attrs","scopedSlots","_u","key","fn","downvote","_v","alert","_c","staticRenderFns","render","name","components","Participant","data","ids","participants","fields","headers","text","headersDesq","computed","activeParticipants","desqualifiedParticipants","mounted","methods","sockets","console","beforeDestroy","component"],"sourceRoot":""}